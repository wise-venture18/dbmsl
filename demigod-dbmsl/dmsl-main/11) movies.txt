11) movies
###################11.Create Collection â€œmoviesâ€œ which contains the documents given as below(Perform on
Mongo Terminal)
{
name: â€œMovie1â€,
type: â€œactionâ€,
budget:1000000
producer:{
name: â€œproducer1â€,
address:â€PUNEâ€
}
}
i. Find the name of the movie having budget greater than 1,00,000.
ii. Find the name of producer who lives in Pune
iii. Update the type of movie â€œactionâ€ to â€œhorrorâ€
iv. Find all the documents produced by name â€œproducer1â€ with their address####################


-----------------------------------------------------------------------------------------------------------------------------

use mov;
db.createCollection("movies");

db.movies.insertOne({name:"Movie1",type:"action",budget:1000000,producer:{name:"producer1",address:"PUNE"}});
db.movies.find({budget:{$gt:100000}},{name:1,_id:0});
db.movies.find({"producer.address":"PUNE"},{"producer.name":1,_id:0});
db.movies.updateMany({type:"action"},{$set:{type:"horror"}});
db.movies.find({"producer.name":"producer1"},{name:1,"producer.address":1,_id:0});


------------------------------------------------------------------------------------------------------------------------------------




ğŸ¿ Problem Statement 11 â€” MongoDB (Movies Collection)
ğŸ’¡ Aim:

Create a collection movies and perform the following:

Insert documents with nested fields.

Retrieve records based on conditions.

Update values in documents.

Display selected fields (projection).

âœ… Step-by-step Code with Explanation
ğŸ§© Step 1 â€” Use or Create Database
use test;


ğŸ‘‰ This command switches to (or creates) a database named test.
If the database doesnâ€™t exist, MongoDB will automatically create it when data is inserted.

ğŸ§© Step 2 â€” Insert Data into movies
db.movies.insertOne({
  name: "Movie1",
  type: "action",
  budget: 1000000,
  producer: { name: "producer1", address: "PUNE" }
});


ğŸ‘‰ This creates a collection named movies and inserts one document with these fields:

name â†’ Movie name

type â†’ Genre (action, comedy, etc.)

budget â†’ Movie budget

producer â†’ Nested document (object) having name and address

âœ… Output:

{ acknowledged: true, insertedId: ObjectId("...") }

ğŸ§© Step 3 â€” Find movies having budget > 100000
db.movies.find({ budget: { $gt: 100000 } }, { name: 1, _id: 0 });


ğŸ‘‰ Explanation:

$gt = greater than operator

{ budget: { $gt: 100000 } } â†’ filters only movies where budget > 100000

{ name:1, _id:0 } â†’ projection; shows only name and hides _id

âœ… Output:

[ { name: "Movie1" } ]


â†’ Shows all movies with budget greater than 1 lakh.

ğŸ§© Step 4 â€” Find movies whose producer address is â€œPUNEâ€
db.movies.find({ "producer.address": "PUNE" }, { "producer.name": 1, _id: 0 });


ğŸ‘‰ Explanation:

"producer.address" â†’ accessing a nested field (field inside another document)

Filters all movies where producerâ€™s address = "PUNE"

Projection: show only producer.name

âœ… Output:

[ { "producer": { "name": "producer1" } } ]


â†’ Means the movieâ€™s producer name is producer1 and their address is PUNE.

ğŸ§© Step 5 â€” Update all movies with type "action" â†’ "horror"
db.movies.updateMany({ type: "action" }, { $set: { type: "horror" } });


ğŸ‘‰ Explanation:

updateMany() â†’ updates all matching documents

{ type: "action" } â†’ filter condition

$set: { type: "horror" } â†’ modifies the type fieldâ€™s value

âœ… Output:

{ acknowledged: true, matchedCount: 1, modifiedCount: 1 }


â†’ One document matched and updated successfully.

âœ… Now if you check:

db.movies.find();


Output:

[
  {
    "_id": ObjectId("..."),
    "name": "Movie1",
    "type": "horror",
    "budget": 1000000,
    "producer": { "name": "producer1", "address": "PUNE" }
  }
]


â†’ The type changed from â€œactionâ€ to â€œhorrorâ€.

ğŸ§© Step 6 â€” Find movies where producer name = â€œproducer1â€
db.movies.find({ "producer.name": "producer1" }, { name: 1, "producer.address": 1, _id: 0 });


ğŸ‘‰ Explanation:

Filter: "producer.name": "producer1" â†’ checks nested field

Projection: shows name and producerâ€™s address

âœ… Output:

[ { name: "Movie1", producer: { address: "PUNE" } } ]


ğŸ§¾ Viva Questions & Answers
Question	Answer
What is the purpose of insertOne()?                                	To insert a single document into a collection.
What does $gt stand for?	                                    Greater than â€” used to filter numeric fields.
What is a nested document?                                      	A field containing another document/object (like producer info).
What is $set used for?	                                          To update the value of existing fields.
What does updateMany() do?	                                    Updates all documents matching the condition.
What is projection in MongoDB?	                                  Selecting only specific fields to display in the output.
What is the use of dot notation (producer.name)?	                      To access or query nested fields inside documents.

