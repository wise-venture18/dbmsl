Pract2:
--table creation
SQL> CREATE TABLE Student (
  2      Roll NUMBER PRIMARY KEY,
  3      Att  NUMBER(5,2),   -- Attendance in percentage
  4      Status VARCHAR2(2)   -- D = Term denied, ND = Term granted
  5  );
SQL> INSERT INTO Student VALUES (101, 80, NULL);
SQL> INSERT INTO Student VALUES (102, 70, NULL);
SQL> INSERT INTO Student VALUES (103, 90, NULL);
SQL> INSERT INTO Student VALUES (104, 60, NULL);

--PL/SQL block
DECLARE
    v_roll Student.Roll%TYPE;        -- Variable to store user input Roll
    v_att  Student.Att%TYPE;         -- Variable to store attendance
BEGIN
    -- Accept Roll No from user
    v_roll := &Enter_Roll_No;
    -- Fetch attendance of the student
    SELECT Att INTO v_att
    FROM Student
    WHERE Roll = v_roll;
    -- Check attendance and update status
    IF v_att < 75 THEN
        DBMS_OUTPUT.PUT_LINE('Term not granted');
        UPDATE Student
        SET Status = 'D'
       WHERE Roll = v_roll;
    ELSE
        DBMS_OUTPUT.PUT_LINE('Term granted');
        UPDATE Student
        SET Status = 'ND'
        WHERE Roll = v_roll;
    END IF;
    -- Commit the changes
    COMMIT;
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        DBMS_OUTPUT.PUT_LINE('Error: Roll number not found in the table.');
    WHEN TOO_MANY_ROWS THEN
        DBMS_OUTPUT.PUT_LINE('Error: Multiple entries found for the same roll number.');
    WHEN OTHERS THEN
        DBMS_OUTPUT.PUT_LINE('An unexpected error occurred: ' || SQLERRM);
END;
/
--terminal
SQL> COMMIT;
SQL> edit pract.sql;
SQL> @pract.sql;

--output:-
--Enter value for enter_roll_no: 2
--old   6:     v_roll := &Enter_Roll_No;
--new   6:     v_roll := 2;
--PL/SQL procedure successfully completed.

